{"options":{"validator":{"$jsonSchema":{"bsonType":"object","title":"Objeto de Reserva","required":["propiedad_id","huesped_id","fecha_inicio","fecha_fin","desglose_precio","estado","fecha_reserva","numero_huespedes"],"properties":{"_id":{"bsonType":"objectId"},"propiedad_id":{"bsonType":"objectId","description":"ID de la propiedad reservada (de la colección 'propiedades')."},"huesped_id":{"bsonType":"objectId","description":"ID del usuario que reserva (de la colección 'usuarios')."},"fecha_inicio":{"bsonType":"date","description":"Fecha de check-in."},"fecha_fin":{"bsonType":"date","description":"Fecha de check-out."},"numero_huespedes":{"bsonType":"int","description":"Cantidad de personas que se alojarán.","minimum":{"$numberInt":"1"}},"desglose_precio":{"bsonType":"object","description":"Fotografía del acuerdo financiero al momento de reservar.","required":["precio_por_noche","numero_noches","subtotal","comision_servicio","total"],"properties":{"precio_por_noche":{"bsonType":"decimal"},"numero_noches":{"bsonType":"int"},"subtotal":{"bsonType":"decimal","description":"precio_por_noche * numero_noches"},"comision_servicio":{"bsonType":"decimal","description":"Comisión que cobra la plataforma."},"total":{"bsonType":"decimal","description":"Pago final del huésped."}}},"estado":{"bsonType":"string","description":"El ciclo de vida de la reserva.","enum":["pendiente","confirmada","cancelada_huesped","cancelada_anfitrion","completada","rechazada"]},"fecha_reserva":{"bsonType":"date","description":"Fecha y hora en que se creó la reserva."}}}}},"indexes":[{"v":{"$numberInt":"2"},"key":{"_id":{"$numberInt":"1"}},"name":"_id_"},{"v":{"$numberInt":"2"},"key":{"propiedad_id":{"$numberInt":"1"},"fecha_inicio":{"$numberInt":"1"},"fecha_fin":{"$numberInt":"1"}},"name":"propiedad_id_1_fecha_inicio_1_fecha_fin_1"},{"v":{"$numberInt":"2"},"key":{"huesped_id":{"$numberInt":"1"}},"name":"huesped_id_1"}],"uuid":"77c1f0a24ccb40dca2771ba84798d276","collectionName":"reservas","type":"collection"}